<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <title>NYC Attendance 2018-2019 School Year</title>
    <link rel="stylesheet" type="text/css" href="assets/css/main.css">
    <link href="/assets/styles/reset.css" rel="stylesheet">
	<link href="all-view.css" rel="stylesheet">

    <link rel="stylesheet" href="https://use.typekit.net/djp2asj.css">
</head>

<body>
<header>
<h4><a href="https://donovanwardd.github.io/core-2-int-lab/core-2-interaction-studio/projects/nyc-data/index">← Back to Home</a></h4>
</header>

<h1> ❄︎ ❀ 2018 - 2019 ☼ ✾</h1>

<div class="grid">
        <div class="square" id="01"><p></p></div>
        <div class="square" id="02"><p></p></div>
        <div class="square" id="03"><p></p></div>
        <div class="square" id="04"><p></p></div>
        <div class="square" id="05"><p></p></div>
        <div class="square" id="06"><p></p></div>
        <div class="square" id="07"><p></p></div>

        <div class="square" id="08"><p></p></div>
        <div class="square" id="09"><p></p></div>
        <div class="square" id="10"><p></p></div>
        <div class="square" id="11"><p></p></div>
        <div class="square" id="12"><p></p></div>
        <div class="square" id="13"><p></p></div>
        <div class="square" id="14"><p></p></div>

        <div class="square" id="15"><p></p></div>
        <div class="square" id="16"><p></p></div>
        <div class="square" id="17"><p></p></div>
        <div class="square" id="18"><p></p></div>
        <div class="square" id="19"><p></p></div>
        <div class="square" id="20"><p></p></div>
        <div class="square" id="21"><p></p></div>

        <div class="square" id="22"><p></p></div>
        <div class="square" id="23"><p></p></div>
        <div class="square" id="24"><p></p></div>
        <div class="square" id="25"><p></p></div>
        <div class="square" id="26"><p></p></div>
        <div class="square" id="27"><p></p></div>
        <div class="square" id="28"><p></p></div>

        <div class="square" id="29"><p></p></div>
        <div class="square" id="30"><p></p></div>
        <div class="square" id="31"><p></p></div>
        <div class="square" id="32"><p></p></div>
        <div class="square" id="33"><p></p></div>
        <div class="square" id="34"><p></p></div>
        <div class="square" id="35"><p></p></div>
        <div class="square" id="36"><p></p></div>
        <div class="square" id="37"><p></p></div>
        <div class="square" id="38"><p></p></div>
        <div class="square" id="39"><p></p></div>
        <div class="square" id="40"><p></p></div>
        <div class="square" id="41"><p></p></div>
        <div class="square" id="42"><p></p></div>
        <div class="square" id="43"><p></p></div>
        <div class="square" id="44"><p></p></div>
        <div class="square" id="45"><p></p></div>
        <div class="square" id="46"><p></p></div>
        <div class="square" id="47"><p></p></div>
        <div class="square" id="48"><p></p></div>
        <div class="square" id="49"><p></p></div>
        <div class="square" id="50"><p></p></div>
        <div class="square" id="51"><p></p></div>
        <div class="square" id="52"><p></p></div>
        <div class="square" id="53"><p></p></div>
        <div class="square" id="54"><p></p></div>
        <div class="square" id="55"><p></p></div>
        <div class="square" id="56"><p></p></div>
        <div class="square" id="57"><p></p></div>
        <div class="square" id="58"><p></p></div>
        <div class="square" id="59"><p></p></div>
        <div class="square" id="60"><p></p></div>
        <div class="square" id="61"><p></p></div>
        <div class="square" id="62"><p></p></div>
        <div class="square" id="63"><p></p></div>
        <div class="square" id="64"><p></p></div>
        <div class="square" id="65"><p></p></div>
        <div class="square" id="66"><p></p></div>
        <div class="square" id="67"><p></p></div>
        <div class="square" id="68"><p></p></div>
        <div class="square" id="70"><p></p></div>
        <div class="square" id="71"><p></p></div>
        <div class="square" id="72"><p></p></div>
        <div class="square" id="73"><p></p></div>
        <div class="square" id="74"><p></p></div>
        <div class="square" id="75"><p></p></div>
        <div class="square" id="76"><p></p></div>
        <div class="square" id="77"><p></p></div>
        <div class="square" id="78"><p></p></div>
        <div class="square" id="79"><p></p></div>
        <div class="square" id="80"><p></p></div>
        <div class="square" id="81"><p></p></div>
        <div class="square" id="82"><p></p></div>
        <div class="square" id="83"><p></p></div>
        <div class="square" id="84"><p></p></div>
        <div class="square" id="85"><p></p></div>
        <div class="square" id="86"><p></p></div>
        <div class="square" id="87"><p></p></div>
        <div class="square" id="88"><p></p></div>
        <div class="square" id="89"><p></p></div>
        <div class="square" id="90"><p></p></div>
        <div class="square" id="91"><p></p></div>
        <div class="square" id="92"><p></p></div>
        <div class="square" id="93"><p></p></div>
        <div class="square" id="94"><p></p></div>
        <div class="square" id="95"><p></p></div>
        <div class="square" id="96"><p></p></div>
        <div class="square" id="97"><p></p></div>
        <div class="square" id="98"><p></p></div>
        <div class="square" id="99"><p></p></div>
        <div class="square" id="100"><p></p></div>
        <div class="square" id="101"><p></p></div>
        <div class="square" id="102"><p></p></div>
        <div class="square" id="103"><p></p></div>
        <div class="square" id="104"><p></p></div>
        <div class="square" id="105"><p></p></div>
        <div class="square" id="106"><p></p></div>
        <div class="square" id="107"><p></p></div>
        <div class="square" id="108"><p></p></div>
        <div class="square" id="109"><p></p></div>
        <div class="square" id="110"><p></p></div>
        <div class="square" id="111"><p></p></div>
        <div class="square" id="112"><p></p></div>
        <div class="square" id="113"><p></p></div>
        <div class="square" id="114"><p></p></div>
        <div class="square" id="115"><p></p></div>
        <div class="square" id="116"><p></p></div>
        <div class="square" id="117"><p></p></div>
        <div class="square" id="118"><p></p></div>
        <div class="square" id="119"><p></p></div>
        <div class="square" id="120"><p></p></div>
        <div class="square" id="121"><p></p></div>
        <div class="square" id="122"><p></p></div>
        <div class="square" id="123"><p></p></div>
        <div class="square" id="124"><p></p></div>
        <div class="square" id="125"><p></p></div>
        <div class="square" id="126"><p></p></div>
        <div class="square" id="127"><p></p></div>
        <div class="square" id="128"><p></p></div>
        <div class="square" id="129"><p></p></div>
        <div class="square" id="130"><p></p></div>
        <div class="square" id="131"><p></p></div>
        <div class="square" id="132"><p></p></div>
        <div class="square" id="133"><p></p></div>
        <div class="square" id="134"><p></p></div>
        <div class="square" id="135"><p></p></div>
        <div class="square" id="136"><p></p></div>
        <div class="square" id="137"><p></p></div>
        <div class="square" id="138"><p></p></div>
        <div class="square" id="139"><p></p></div>
        <div class="square" id="140"><p></p></div>
        <div class="square" id="141"><p></p></div>
        <div class="square" id="142"><p></p></div>
        <div class="square" id="143"><p></p></div>
        <div class="square" id="144"><p></p></div>
        <div class="square" id="145"><p></p></div>
        <div class="square" id="146"><p></p></div>
        <div class="square" id="147"><p></p></div>
        <div class="square" id="148"><p></p></div>
        <div class="square" id="149"><p></p></div>
        <div class="square" id="150"><p></p></div>
        <div class="square" id="151"><p></p></div>
        <div class="square" id="152"><p></p></div>
        <div class="square" id="153"><p></p></div>
        <div class="square" id="154"><p></p></div>
        <div class="square" id="155"><p></p></div>
        <div class="square" id="156"><p></p></div>
        <div class="square" id="157"><p></p></div>
        <div class="square" id="158"><p></p></div>
        <div class="square" id="159"><p></p></div>
        <div class="square" id="160"><p></p></div>
        <div class="square" id="161"><p></p></div>
        <div class="square" id="162"><p</p></div>
        <div class="square" id="163"><p></p></div>
        <div class="square" id="164"><p></p></div>
        <div class="square" id="165"><p></p></div>
        <div class="square" id="166"><p></p></div>
        <div class="square" id="167"><p></p></div>
        <div class="square" id="168"><p></p></div>
        <div class="square" id="169"><p></p></div>
        <div class="square" id="170"><p></p></div>
        <div class="square" id="171"><p></p></div>
        <div class="square" id="172"><p></p></div>
        <div class="square" id="173"><p</p></div>
        <div class="square" id="174"><p></p></div>
        <div class="square" id="175"><p</p></div>
        <div class="square" id="176"><p></p></div>
        <div class="square" id="177"><p></p></div>
        <div class="square" id="178"><p></p></div>
        <div class="square" id="179"><p></p></div>
        <div class="square" id="180"><p></p></div>
        <div class="square" id="181"><p></p></div>
        <div class="square" id="182"><p></p></div>
        <div class="square" id="183"><p></p></div>
        <div class="square" id="184"><p></p></div>
        <div class="square" id="185"><p></p></div>
        <div class="square" id="186"><p></p></div>
        <div class="square" id="187"><p</p></div>
        <div class="square" id="188"><p></p></div>
        <div class="square" id="189"><p></p></div>
        <div class="square" id="190"><p></p></div>
        <div class="square" id="191"><p></p></div>
        <div class="square" id="192"><p></p></div>
        <div class="square" id="193"><p></p></div>
        <div class="square" id="194"><p></p></div>
        <div class="square" id="195"><p></p></div>
        <div class="square" id="196"><p></p></div>
        <div class="square" id="197"><p></p></div>
        <div class="square" id="198"><p></p></div>
        <div class="square" id="199"><p></p></div>
        <div class="square" id="200"><p></p></div>
        <div class="square" id="201"><p></p></div>
        <div class="square" id="202"><p></p></div>
        <div class="square" id="203"><p></p></div>
        <div class="square" id="204"><p></p></div>
        <div class="square" id="205"><p></p></div>
        <div class="square" id="206"><p></p></div>
        <div class="square" id="207"><p></p></div>
        <div class="square" id="208"><p></p></div>
        <div class="square" id="209"><p></p></div>
        <div class="square" id="210"><p></p></div>
        <div class="square" id="211"><p></p></div>
        <div class="square" id="212"><p></p></div>
        <div class="square" id="213"><p></p></div>
        <div class="square" id="214"><p></p></div>
        <div class="square" id="215"><p></p></div>
        <div class="square" id="216"><p></p></div>
        <div class="square" id="217"><p></p></div>
        <div class="square" id="218"><p></p></div>
        <div class="square" id="219"><p></p></div>
        <div class="square" id="220"><p></p></div>
        <div class="square" id="221"><p></p></div>
        <div class="square" id="222"><p></p></div>
        <div class="square" id="223"><p></p></div>
        <div class="square" id="224"><p></p></div>
        <div class="square" id="225"><p</p></div>
        <div class="square" id="226"><p></p></div>
        <div class="square" id="227"><p></p></div>
        <div class="square" id="228"><p></p></div>
        <div class="square" id="229"><p></p></div>
        <div class="square" id="230"><p></p></div>
        <div class="square" id="231"><p></p></div>
        <div class="square" id="232"><p></p></div>
        <div class="square" id="233"><p</p></div>
        <div class="square" id="234"><p></p></div>
        <div class="square" id="235"><p</p></div>
        <div class="square" id="236"><p></p></div>
        <div class="square" id="237"><p></p></div>
        <div class="square" id="238"><p></p></div>
        <div class="square" id="239"><p></p></div>
        <div class="square" id="240"><p></p></div>
        <div class="square" id="241"><p></p></div>
        <div class="square" id="242"><p></p></div>
        <div class="square" id="243"><p></p></div>
        <div class="square" id="244"><p></p></div>
        <div class="square" id="245"><p></p></div>
        <div class="square" id="246"><p></p></div>
        <div class="square" id="247"><p></p></div>
        <div class="square" id="248"><p></p></div>
        <div class="square" id="249"><p></p></div>
        <div class="square" id="250"><p></p></div>
        <div class="square" id="251"><p></p></div>
        <div class="square" id="252"><p></p></div>
        <div class="square" id="253"><p></p></div>
        <div class="square" id="254"><p></p></div>
        <div class="square" id="255"><p></p></div>
        <div class="square" id="256"><p></p></div>
        <div class="square" id="257"><p></p></div>
        <div class="square" id="258"><p></p></div>
        <div class="square" id="259"><p></p></div>
        <div class="square" id="260"><p></p></div>
        <div class="square" id="261"><p></p></div>
        <div class="square" id="262"><p></p></div>
        <div class="square" id="263"><p></p></div>
        <div class="square" id="264"><p></p></div>
        <div class="square" id="265"><p</p></div>
        <div class="square" id="266"><p></p></div>
        <div class="square" id="267"><p></p></div>
        <div class="square" id="268"><p></p></div>
        <div class="square" id="269"><p></p></div>
        <div class="square" id="270"><p></p></div>
        <div class="square" id="271"><p></p></div>
        <div class="square" id="272"><p></p></div>
        <div class="square" id="273"><p></p></div>
        <div class="square" id="274"><p></p></div>
        <div class="square" id="275"><p></p></div>
        <div class="square" id="276"><p></p></div>
        <div class="square" id="277"><p></p></div>
        <div class="square" id="278"><p></p></div>
        <div class="square" id="279"><p></p></div>
        <div class="square" id="280"><p></p></div>
        <div class="square" id="281"><p></p></div>
        <div class="square" id="282"><p></p></div>
        <div class="square" id="283"><p></p></div>
        <div class="square" id="284"><p></p></div>
        <div class="square" id="285"><p></p></div>
        <div class="square" id="286"><p></p></div>
        <div class="square" id="287"><p></p></div>
        <div class="square" id="288"><p></p></div>
        <div class="square" id="289"><p></p></div>
        <div class="square" id="290"><p></p></div>
        <div class="square" id="291"><p></p></div>
        <div class="square" id="292"><p></p></div>
        <div class="square" id="293"><p></p></div>
        <div class="square" id="294"><p></p></div>
        <div class="square" id="295"><p></p></div>
        <div class="square" id="296"><p></p></div>
        <div class="square" id="297"><p></p></div>
        <div class="square" id="298"><p></p></div>
        <div class="square" id="299"><p></p></div>
        <div class="square" id="300"><p></p></div>
        <div class="square" id="301"><p></p></div>
        <div class="square" id="302"><p></p></div>
        <div class="square" id="303"><p></p></div>
        <div class="square" id="304"><p></p></div>
        <div class="square" id="305"><p></p></div>
        <div class="square" id="306"><p></p></div>
        <div class="square" id="307"><p></p></div>
        <div class="square" id="308"><p></p></div>
        <div class="square" id="309"><p></p></div>
        <div class="square" id="310"><p></p></div>
        <div class="square" id="311"><p></p></div>
        <div class="square" id="312"><p></p></div>
        <div class="square" id="313"><p></p></div>
        <div class="square" id="314"><p></p></div>
        <div class="square" id="315"><p></p></div>
        <div class="square" id="316"><p></p></div>
        <div class="square" id="317"><p></p></div>
        <div class="square" id="318"><p></p></div>
        <div class="square" id="319"><p></p></div>
        <div class="square" id="320"><p></p></div>
        <div class="square" id="321"><p></p></div>
        <div class="square" id="322"><p></p></div>
        <div class="square" id="323"><p></p></div>
        <div class="square" id="324"><p></p></div>
        <div class="square" id="325"><p></p></div>
        <div class="square" id="326"><p></p></div>
        <div class="square" id="327"><p></p></div>
        <div class="square" id="328"><p</p></div>
        <div class="square" id="329"><p></p></div>
        <div class="square" id="330"><p></p></div>
        <div class="square" id="331"><p></p></div>
        <div class="square" id="332"><p></p></div>
        <div class="square" id="333"><p></p></div>
        <div class="square" id="334"><p></p></div>
        <div class="square" id="335"><p></p></div>
        <div class="square" id="336"><p></p></div>
        <div class="square" id="337"><p></p></div>
        <div class="square" id="338"><p></p></div>
        <div class="square" id="339"><p></p></div>
        <div class="square" id="340"><p></p></div>
        <div class="square" id="341"><p></p></div>
        <div class="square" id="342"><p></p></div>
        <div class="square" id="343"><p></p></div>
        <div class="square" id="344"><p></p></div>
        <div class="square" id="345"><p</p></div>
        <div class="square" id="346"><p></p></div>
        <div class="square" id="347"><p></p></div>
        <div class="square" id="348"><p></p></div>
        <div class="square" id="349"><p></p></div>
        <div class="square" id="350"><p></p></div>
        <div class="square" id="351"><p></p></div>
        <div class="square" id="352"><p></p></div>
        <div class="square" id="353"><p></p></div>
        <div class="square" id="354"><p></p></div>
        <div class="square" id="355"><p></p></div>
        <div class="square" id="356"><p></p></div>
        <div class="square" id="357"><p></p></div>
        <div class="square" id="358"><p></p></div>
        <div class="square" id="359"><p></p></div>
        <div class="square" id="360"><p></p></div>
        <div class="square" id="361"><p></p></div>
        <div class="square" id="362"><p></p></div>
        <div class="square" id="363"><p></p></div>
        <div class="square" id="364"><p></p></div>
        <div class="square" id="365"><p></p></div>
    </div>




<script type="text/javascript">
    fetch('https://data.cityofnewyork.us/resource/x3bb-kg5j.json?$query=SELECT%20%60school_dbn%60%2C%20%60date%60%2C%20%60enrolled%60%2C%20%60absent%60%2C%20%60present%60%2C%20%60released%60')
      .then(response => response.json())
      .then(data => {
    
        let totals = {};
        
    
        for (let i = 0; i <= 366; i++) {
    
          let dateString = '201' + String(i).padStart(1, '0');
          let dateData = data.filter(row => row.date === dateString);
          
          let totalEnrolled = 0;
          let totalPresent = 0;
          for (let j = 1; j < dateData.length; j++) {
            let row = dateData[j];
            totalEnrolled += parseInt(row.enrolled);
            totalPresent += parseInt(row.present);
          }
          let percentagePresent = totalPresent / totalEnrolled * 100;
          
          let day = i.toString().padStart(1, '0');
          totals[day] = {
            enrolled: totalEnrolled,
            present: totalPresent,
            percentagePresent: percentagePresent
          };
        
      let square = document.getElementById(`${day}`);
    if (square) {
      if (percentagePresent >= 95 && percentagePresent < 100) {
        square.style.backgroundColor = '#0CC078'; // dark green
      } else if (percentagePresent >= 90 && percentagePresent < 95) {
        square.style.backgroundColor = '#84E884'; // light green
      } else if (percentagePresent >= 80 && percentagePresent < 90) {
        square.style.backgroundColor = '#FFFF81'; // yellow
      } else if (percentagePresent >= 0 && percentagePresent < 80) {
        square.style.backgroundColor = '#FB6962'; // red
      } else {
        square.style.backgroundColor = '#CCCCCC'; // grey
      }
    }
          };
    
    
      for (let day in totals) {
          let percentagePresent = totals[day].percentagePresent;
          console.log(`Percentage of present students on 8/${day}/2019: ${percentagePresent.toFixed(2)}%`);
        }
      });
        </script>
</body>
</html>